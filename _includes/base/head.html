<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>{{ page.title }}</title>

<script>
  if (window.matchMedia('(prefers-color-scheme: dark)').matches || localStorage.getItem('color-scheme') === 'dark') {
    document.documentElement.classList.add('dark-mode')
  }
</script>

<base href="{{ site.baseurl }}">

<!-- DNS -->
<!--<link rel="preconnect" href="http://assets.localhost/" crossorigin="crossorigin">-->
<!--<link rel="dns-prefetch" href="http://assets.localhost/">-->

<!-- Критические стили -->
{% capture critical %}{% include critical.css %}{% endcapture %}
<style>{{ critical | scssify }}</style>

<!-- Стили -->
<link rel="preload" as="style" href="{{ '/assets/css/style.css?v=' | relative_url }}{{ site.version }}" onload="this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | relative_url }}{{ site.version }}"></noscript>

<!-- Мета -->
{%- seo title=false -%}
<meta name="theme-color" content="{{ site.themecolor }}">
<meta name="application-name" content="{{ site.title }}">
<meta name="apple-mobile-web-app-title" content="{{ site.title }}">
{%- feed_meta -%}

<!-- Favicons -->
<link rel="icon" href="{{ '/assets/favicons/favicon.ico' | relative_url }}" sizes="any">
<link rel="icon" href="{{ '/assets/favicons/icon.svg' | relative_url }}" type="image/svg+xml">
<link rel="apple-touch-icon" href="{{ '/assets/favicons/apple-touch-icon.png' | relative_url }}">
<link rel="manifest" href="{{ '/manifest.json' | relative_url }}">

{%- if jekyll.environment == 'production' and site.google_analytics and site.google_analytics != 'UA-XXXXXXXXX-X' -%}
<!-- Google Analytics -->
<script>
    if(!(window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1")) {
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', '{{ site.google_analytics }}', 'auto');
        ga('send', 'pageview');
    }
</script>
{%- endif -%}

{%- if jekyll.environment == 'production' and site.yandex_metrika and site.yandex_metrika != 'XXXXXX' -%}
<!-- Yandex Metrika -->
<script>
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
    ym('{{ site.yandex_metrika }}', "init", {});
</script>
{%- endif -%}

<!-- Шрифты -->
<link rel="preload" as="font" href="{{ '/assets/fonts/roboto/roboto-regular.woff2' | relative_url }}" type="font/woff2" crossorigin="anonymous">
<link rel="preload" as="font" href="{{ '/assets/fonts/oswald/Oswaldmedium.woff2' | relative_url }}" type="font/woff2" crossorigin="anonymous">

<!-- todo вынести в файл css -->
<style>
  .card-article__img {
    position: relative;
  }

  .card-article__img:before {
    background-image: radial-gradient(ellipse at center, rgba(181, 189, 200, 0) 0%, hsla(208, 8%, 55%, 0) 50%, #28343b 100%);
    background-repeat: no-repeat, repeat;
    background-size: 100% 100%, 30px 30px;
    content: "";
    height: 100%;
    left: 0;
    position: absolute;
    top: 0;
    width: 100%;
  }

  .main-article__content-container > * + :not(h1, h2, h3, h4, h5, h6) {
    margin-top: 25px;
  }

  .main-article__content-container h3 + p {
    margin-top: 0;
  }

  .main-article__content-container a {
    color: #ee1b24;
  }

  .main-article__content-container a:hover,
  .main-article__content-container a:focus {
    text-decoration: none;
  }

  .main-article__content-container .attention {
    color: #ee1b24;
  }

  .main-article__content-container figure {
    margin: 50px auto;
  }

  @media screen and (max-width: 768px) {
    .main-article__content-container figure {
      margin: 30px auto;
    }
  }

  .main-article__content-container figure img {
    min-height: auto;
    margin: 0 auto;
  }

  .main-article__content-container figcaption {
    margin-top: 30px;

    color: #646464;
    font-size: 14px;
    text-align: center;
  }

  kbd {
    display: inline-block;
    padding: 2px 4px;
    color: #333;
    font-weight: 500;
    font-size: .85em;
    line-height: 1;
    white-space: nowrap;
    background-color: #eee;
    border: 1px solid #b4b4b4;
    border-radius: 3px;
    box-shadow: 0 1px 1px rgba(0,0,0,.2), 0 2px 0 0 rgba(255,255,255,.7) inset;
  }

  .main-article__info-desc a {
    color: #ee1b24;
  }

  .main-article__info-desc a:hover,
  .main-article__info-desc a:focus {
    text-decoration: none;
  }
</style>
